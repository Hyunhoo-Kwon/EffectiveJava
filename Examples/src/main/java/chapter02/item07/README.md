## 규칙7. 종료자 사용을 피하라

### 종료자(finalizer)
 * 종료자는 Object 클래스에 정의된 메서드이며 객체가 gc에 의해 수집될 때 호출된다. 객체가 gc에 의해 수집되지 않을 가능성이 있으며, 따라서 종료자가 실행되지 않은 상태에서 프로그램이 종료될 가능성도 있다.
 * java.lang.Object
 ```
 protected void finalize() throws Throwable { }
 ```
 
### 종료자의 단점
 1. 종료자는 즉시 실행되리라는 보장이 전혀 없고 반드시 실행되어야 한다는 보장도 없다.
     * 따라서 긴급한 작업을 종료자 안에서 처리하면 안 된다.
     > 종료자 안에서 파일을 닫도록 하면 치명적이다. 파일 기술자는 유한한 자원이기 때문에 종료자가 실행되지 않아 열린 상태의 파일이 많이 남아있는 상황에서 새로운 파일을 열려고 하면 오류가 날 가능성이 있다.
 2. 종료자 사용의 성능 이슈
     * 클래스에 종료자를 붙여 놓으면, 객체 메모리 반환이 지연될 수 있다.
 3. 종료 처리 중 예외 발생
     * 종료 처리 도중 무점검(uncaught) 예외 발생 시, 해당 예외는 무시되며 종료 과정은 중단된다.
     * 일반적으로 무점검 예외가 발생하면 스레드는 종료되고 경고문구가 출력되지만, 종료자 안에서는 아니다.

### 명시적 종료 메서드(temination method): 명시적으로 종료시 로직 실행이 필요한 경우 정의
 * 파일이나 스레드처럼 명시적으로 반환하거나 삭제해야 하는 자원을 포함하는 객체의 클래스는 명시적 종료 메서드를 정의한다.
 * 해당 객체는 종료 여부를 객체 안에 보관해야 한다.
     * 유효하지 않은 객체임을 표시하는 private 필드를 두고, 모든 메서드 맨 앞에 해당 필드를 검사하여 이미 종료된 객체에 메서드를 호출하면 IllegalStateException을 발생시켜야 한다.
 > 명시적 종료 메서드의 예로는 java.io.OutputStream, java.sql.Connection에 정의된 close 메서드, java.util.Timer에 정의된 cancel 메서드가 있다. 실수로 이런 메서드를 호출하지 않는 경우 성능이 심각하게 떨어진다.
 * 명시적 종료 메서드는 보통 try-finally(try-with-resource) 문과 함께 쓰인다
     * 명시적 종료 메서드를 finally 문 안에서 호출하도록 하면 객체 사용 과정에서 예외가 던져져도 종료 메서드가 실행된다.
